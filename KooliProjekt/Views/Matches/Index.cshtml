@model KooliProjekt.Models.MatchesIndexModel

<h2>Список матчей</h2>

<form method="get">
    <div>
        <label for="Search_TeamName">Название команды:</label>
        <input type="text" id="Search_TeamName" name="Search.TeamName" value="@Model?.Search.TeamName" />
    </div>

    <div>
        <label for="Search_DateFrom">Дата от:</label>
        <input type="date" id="Search_DateFrom" name="Search.DateFrom" value="@Model?.Search.DateFrom?.ToString(" yyyy-MM-dd")" />
    </div>

    <div>
        <label for="Search_DateTo">Дата до:</label>
        <input type="date" id="Search_DateTo" name="Search.DateTo" value="@Model?.Search.DateTo?.ToString(" yyyy-MM-dd")" />
    </div>

    <div>
        <label for="Search_TournamentId">Турнир:</label>
        <select name="Search.TournamentId" id="Search_TournamentId">
            <option value="">Все</option>
            @foreach (var tournament in ViewBag.Tournaments as SelectList)
            {
            <option value="@tournament.Value" @(Model?.Search.TournamentId?.ToString() == tournament.Value ? "selected" : "")>
                @tournament.Text
            </option>
            }
        </select>
    </div>

    <div>
        <button type="submit">Искать</button>
    </div>
</form>

@if (Model.Matches.Results.Count == 0)
{
<p>Нет матчей, соответствующих вашему запросу.</p>
}

<table>
    <thead>
        <tr>
            <th>ID</th>
            <th>Команда A</th>
            <th>Команда B</th>
            <th>Дата</th>
            <th>Турнир</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var match in Model.Matches.Results)
        {
        <tr>
            <td>@match.Id</td>
            <td>@match.FirstTeam.TeamName</td>
            <td>@match.SecondTeam.TeamName</td>
            <td>@match.GameStart.ToString("yyyy-MM-dd")</td>
            <td>@match.Tournament.TournmentName</td>
        </tr>
        }
    </tbody>
</table>

<!-- Вставка компонента пагинации -->
@(await Component.InvokeAsync<PagerViewComponent>(Model.Matches))
